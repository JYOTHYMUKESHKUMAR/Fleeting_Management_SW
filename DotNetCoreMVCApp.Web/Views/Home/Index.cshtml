@{
    ViewData["Title"] = "Dashboard";
    Layout = "_Layout";
}

<!-- Hero Section -->
<div class="hero-section mb-4 rounded shadow" style="background: linear-gradient(135deg, #F57C00 0%, #ffae75 60%, #ff9966 100%); padding: 2rem; color: white; text-align: center;">
    <div class="container">
        <div class="logo-container">
            <img src="~/dist/img/Efilogo.png" alt="EFI Logo" style="max-width: 120px;">
        </div>
        <h1 class="mb-3">EFI Asset Management System</h1>
        <div class="intro-text">
            <p>
                Comprehensive vehicle maintenance management system designed to optimize fleet operations,
                track maintenance patterns, and reduce operational costs.
            </p>
        </div>
    </div>
</div>

<!-- Stats Summary Cards -->
<div class="row">
    <div class="col-lg-3 col-6">
        <div class="small-box bg-info">
            <div class="inner">
                <h3>@ViewBag.VehicleCount</h3>
                <p>Total Vehicles</p>
            </div>
            <div class="icon">
                <i class="fas fa-truck"></i>
            </div>
            <a asp-controller="Vehicle" asp-action="Index" class="small-box-footer">
                Manage Vehicles <i class="fas fa-arrow-circle-right"></i>
            </a>
        </div>
    </div>

    <div class="col-lg-3 col-6">
        <div class="small-box bg-success">
            <div class="inner">
                <h3>@ViewBag.FuelEntryCount</h3>
                <p>Fuel Records</p>
            </div>
            <div class="icon">
                <i class="fas fa-gas-pump"></i>
            </div>
            <a asp-controller="ConsumptionDetails" asp-action="Index" class="small-box-footer">
                Fuel Management <i class="fas fa-arrow-circle-right"></i>
            </a>
        </div>
    </div>

    <div class="col-lg-3 col-6">
        <div class="small-box bg-warning">
            <div class="inner">
                <h3>@ViewBag.DriverCount</h3>
                <p>Active Drivers</p>
            </div>
            <div class="icon">
                <i class="fas fa-users"></i>
            </div>
            <a asp-controller="Driver" asp-action="Index" class="small-box-footer">
                Driver Database <i class="fas fa-arrow-circle-right"></i>
            </a>
        </div>
    </div>

    <div class="col-lg-3 col-6">
        <div class="small-box bg-danger">
            <div class="inner">
                <h3>@ViewBag.MaintenanceAlerts</h3>
                <p>Pending Maintenance</p>
            </div>
            <div class="icon">
                <i class="fas fa-exclamation-triangle"></i>
            </div>
            <a href="#" class="small-box-footer">
                View Alerts <i class="fas fa-arrow-circle-right"></i>
            </a>
        </div>
    </div>
</div>

<!-- Feature Cards Section -->
<div class="row mt-4">
    <div class="col-12">
        <h5 class="mb-3" style="position: relative; padding-bottom: 10px;">
            Quick Access
            <span style="position: absolute; bottom: 0; left: 0; width: 60px; height: 3px; background: #F57C00;"></span>
        </h5>
    </div>

    <div class="col-md-4 col-sm-6 mb-4">
        <div class="card h-100" style="border-radius: 15px; overflow: hidden; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
            <div class="card-header text-white" style="background: #4B0082; border-bottom: none;">
                <h3 class="card-title">Vehicle Database</h3>
            </div>
            <div class="card-body text-center">
                <i class="fas fa-truck-moving mb-3" style="font-size: 48px; color: #4B0082; opacity: 0.8;"></i>
                <p>Monitor and manage all vehicles in your fleet, including registration details and assignments.</p>
                <a asp-controller="Vehicle" asp-action="Index" class="btn btn-outline-primary mt-2">
                    <i class="fas fa-arrow-right mr-1"></i> Access
                </a>
            </div>
        </div>
    </div>

    <div class="col-md-4 col-sm-6 mb-4">
        <div class="card h-100" style="border-radius: 15px; overflow: hidden; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
            <div class="card-header text-white" style="background: #43a047; border-bottom: none;">
                <h3 class="card-title">Fuel Log Management</h3>
            </div>
            <div class="card-body text-center">
                <i class="fas fa-gas-pump mb-3" style="font-size: 48px; color: #43a047; opacity: 0.8;"></i>
                <p>Track fuel consumption, analyze efficiency, and manage fuel expenses across your fleet.</p>
                <a asp-controller="ConsumptionDetails" asp-action="Index" class="btn btn-outline-success mt-2">
                    <i class="fas fa-arrow-right mr-1"></i> Access
                </a>
            </div>
        </div>
    </div>

    <div class="col-md-4 col-sm-6 mb-4">
        <div class="card h-100" style="border-radius: 15px; overflow: hidden; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
            <div class="card-header text-white" style="background: #2E8B57; border-bottom: none;">
                <h3 class="card-title">Oil Change Management</h3>
            </div>
            <div class="card-body text-center">
                <i class="fas fa-oil-can mb-3" style="font-size: 48px; color: #2E8B57; opacity: 0.8;"></i>
                <p>Schedule and track oil changes, monitor oil consumption, and plan maintenance activities.</p>
                <a asp-controller="OilInformation" asp-action="Index" class="btn btn-outline-success mt-2">
                    <i class="fas fa-arrow-right mr-1"></i> Access
                </a>
            </div>
        </div>
    </div>

    <div class="col-md-4 col-sm-6 mb-4">
        <div class="card h-100" style="border-radius: 15px; overflow: hidden; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
            <div class="card-header text-white" style="background: #FF8C00; border-bottom: none;">
                <h3 class="card-title">Tire Management</h3>
            </div>
            <div class="card-body text-center">
                <i class="fas fa-circle mb-3" style="font-size: 48px; color: #FF8C00; opacity: 0.8;"></i>
                <p>Monitor tire wear, track replacements, and manage tire inventory and maintenance schedules.</p>
                <a asp-controller="TireInformation" asp-action="Index" class="btn btn-outline-warning mt-2">
                    <i class="fas fa-arrow-right mr-1"></i> Access
                </a>
            </div>
        </div>
    </div>

    <div class="col-md-4 col-sm-6 mb-4">
        <div class="card h-100" style="border-radius: 15px; overflow: hidden; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
            <div class="card-header text-white" style="background: #1976D2; border-bottom: none;">
                <h3 class="card-title">Driver Database</h3>
            </div>
            <div class="card-body text-center">
                <i class="fas fa-users mb-3" style="font-size: 48px; color: #1976D2; opacity: 0.8;"></i>
                <p>Maintain driver records, track assignments, and manage driver credentials and performance.</p>
                <a asp-controller="Driver" asp-action="Index" class="btn btn-outline-primary mt-2">
                    <i class="fas fa-arrow-right mr-1"></i> Access
                </a>
            </div>
        </div>
    </div>

    <div class="col-md-4 col-sm-6 mb-4">
        <div class="card h-100" style="border-radius: 15px; overflow: hidden; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
            <div class="card-header text-white" style="background: #E91E63; border-bottom: none;">
                <h3 class="card-title">Reports & Analytics</h3>
            </div>
            <div class="card-body text-center">
                <i class="fas fa-chart-bar mb-3" style="font-size: 48px; color: #E91E63; opacity: 0.8;"></i>
                <p>Generate detailed reports on fuel consumption, maintenance costs, and fleet performance.</p>
                <a asp-controller="FuelReportEntity" asp-action="Index" class="btn btn-outline-danger mt-2">
                    <i class="fas fa-arrow-right mr-1"></i> Access
                </a>
            </div>
        </div>
    </div>
</div>

<!-- Recent Activity Section -->
<div class="row mt-2">
    <div class="col-md-8">
        <div class="card">
            <div class="card-header">
                <h3 class="card-title">Recent Fuel Entries</h3>
            </div>
            <div class="card-body p-0">
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Vehicle</th>
                                <th>Driver</th>
                                <th>Amount (L)</th>
                                <th>Cost</th>
                            </tr>
                        </thead>
                        <tbody>
                            @if (ViewBag.RecentFuelEntries != null)
                            {
                                @foreach (var entry in ViewBag.RecentFuelEntries)
                                {
                                    <tr>
                                        <td>@entry.Date.ToShortDateString()</td>
                                        <td>@entry.Vehicle.RegistrationNumber</td>
                                        <td>@entry.Driver.Name</td>
                                        <td>@entry.FuelAmount L</td>
                                        <td>@entry.Cost.ToString("C")</td>
                                    </tr>
                                }
                            }
                            else
                            {
                                <tr>
                                    <td colspan="5" class="text-center">No recent fuel entries</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="card-footer">
                <a asp-controller="ConsumptionDetails" asp-action="Index" class="btn btn-sm btn-info">
                    View All Entries
                </a>
            </div>
        </div>
    </div>

    <div class="col-md-4">
        <div class="card">
            <div class="card-header">
                <h3 class="card-title">Maintenance Alerts</h3>
            </div>
            <div class="card-body p-0">
                <ul class="list-group list-group-flush">
                    @if (ViewBag.MaintenanceAlertList != null && ViewBag.MaintenanceAlertList.Count > 0)
                    {
                        @foreach (var alert in ViewBag.MaintenanceAlertList)
                        {
                            <li class="list-group-item">
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>
                                        <span class="badge badge-@alert.SeverityClass mr-2">@alert.Type</span>
                                        @alert.Vehicle.RegistrationNumber
                                    </div>
                                    <small class="text-muted">@alert.DueDate.ToShortDateString()</small>
                                </div>
                                <p class="mb-0 mt-1 text-sm">@alert.Description</p>
                            </li>
                        }
                    }
                    else
                    {
                        <li class="list-group-item">No current maintenance alerts.</li>
                    }
                </ul>
            </div>
            <div class="card-footer">
                <a href="#" class="btn btn-sm btn-danger">View All Alerts</a>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        $(document).ready(function () {
            // Card hover effects
            $('.card').hover(
                function () {
                    $(this).css('transform', 'translateY(-5px)');
                    $(this).css('box-shadow', '0 8px 24px rgba(0,0,0,0.15)');
                    $(this).find('i').addClass('fa-beat');
                },
                function () {
                    $(this).css('transform', 'translateY(0)');
                    $(this).css('box-shadow', '0 4px 15px rgba(0,0,0,0.1)');
                    $(this).find('i').removeClass('fa-beat');
                }
            );
        });
    </script>
}